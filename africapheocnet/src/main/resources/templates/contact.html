<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<th:block th:replace="frontend-header :: head"></th:block>
<body class="custom-cursor">

    <div class="custom-cursor__cursor"></div>
    <div class="custom-cursor__cursor-two"></div>

    <div class="preloader">
        <div class="preloader__image" style="background-image: url(assets/images/loader.png);"></div>
    </div>
    <!-- /.preloader -->
    <div class="page-wrapper">
        <div th:replace="frontend-topbar"></div>
        <header th:replace="frontend-header :: main-header"></header>
       
		<section class="contact-one section-space @@extraClassName">
            <div class="container">
                <div class="row gutter-y-30">
                   
                    <div class="col-lg-8 wow fadeInUp" data-wow-duration="1500ms" data-wow-delay="200ms">
                        <div class="contact-one__form">
                            <div class="contact-one__form__bg" style="background-image: url('assets/images/backgrounds/contact-bg-1-1.png');"></div><!-- /.contact-one__form__bg -->
                            <h2 class="contact-one__title">Leave us a Message</h2>
                            <form class="contact-one__form__inner contact-form-validated form-one wow fadeInUp" data-wow-duration="1500ms" action="">
                                <div class="row gutter-y-20">
	                               	<div id="alertBox" class="alert alert-warning alert-top-border alert-dismissible fade show" role="alert" style="display: none;">
	                                    <i class="uil uil-exclamation-triangle font-size-16 text-warning me-2"></i>
	                                    <span class="alert-message">A simple border warning alert</span>
	                                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
	                                </div>
                                    <div class="col-12">
                                        <div class="form-one__control">
                                            <input type="text" name="name" id="name" placeholder="enter your name" class="form-one__control__input">
                                        </div><!-- /.form-one__control -->
                                    </div><!-- /.col-12 -->
                                    <div class="col-12">
                                        <div class="form-one__control">
                                            <input type="text" name="email" id="email" placeholder="your email" class="form-one__control__input">
                                        </div><!-- /.form-one__control -->
                                    </div><!-- /.col-12 -->
                                    <div class="col-12">
                                        <div class="form-one__control">
                                            <input type="tel" name="phone" id="phone" placeholder="phone no" class="form-one__control__input">
                                        </div><!-- /.form-one__control -->
                                    </div><!-- /.col-12 -->
                                  	 <div class="col-12">
                                        <div class="form-one__control">
                                            <input type="text" name="subject" id="subject" placeholder="enter your subject" class="form-one__control__input">
                                        </div><!-- /.form-one__control -->
                                    </div><!-- /.col-12 -->
                                    <div class="col-12">
                                        <div class="form-one__control">
                                            <textarea name="message" id="message" cols="30" rows="10" placeholder="write message . . ." class="form-one__control__input form-one__control__message"></textarea>
                                        </div><!-- /.form-one__control -->
                                    </div><!-- /.col-12 -->
                                    <div class="col-12">
                                        <div class="contact-one__btn-box form-one__control">
                                            <button type="submit" class="cleenhearts-btn @@extraClassNameBtn">
                                                <span class="cleenhearts-btn__icon-box">
                                                    <span class="cleenhearts-btn__icon-box__inner"><span class="icon-duble-arrow"></span></span>
                                                </span>
                                                <span class="cleenhearts-btn__text">send message</span>
                                            </button>
                                        </div><!-- /.form-one__control -->
                                    </div><!-- /.col-12 -->
                                </div><!-- /.row -->
                            </form><!-- /.contact-one__form__inner -->
                        </div><!-- /.contact-one__form -->
                    </div><!-- /.col-lg-6 -->
                </div><!-- /.row -->
            </div><!-- /.container -->
        </section><!-- /.contact-one -->
        
        <div th:replace="frontend-footer"></div>
    </div><!-- /.page-wrapper -->

    <div th:replace="frontend-mobile-nav"></div>
    <div th:replace="frontend-search-popup"></div>
    <a href="#" data-target="html" class="scroll-to-target scroll-to-top">
        <span class="scroll-to-top__text">back top</span>
        <span class="scroll-to-top__wrapper"><span class="scroll-to-top__inner"></span></span>
    </a>

    <div th:replace="frontend-sidebar"></div>
	<script th:src="@{/assets/vendors/jquery/jquery-3.7.0.min.js}"></script>
	<script th:src="@{/assets/vendors/bootstrap/js/bootstrap.bundle.min.js}"></script>
	<script th:src="@{/assets/vendors/bootstrap-select/bootstrap-select.min.js}"></script>
	<script th:src="@{/assets/vendors/jarallax/jarallax.min.js}"></script>
	<script th:src="@{/assets/vendors/jquery-ui/jquery-ui.js}"></script>
	<script th:src="@{/assets/vendors/jquery-ajaxchimp/jquery.ajaxchimp.min.js}"></script>
	<script th:src="@{/assets/vendors/jquery-appear/jquery.appear.min.js}"></script>
	<script th:src="@{/assets/vendors/jquery-circle-progress/jquery.circle-progress.min.js}"></script>
	<script th:src="@{/assets/vendors/jquery-magnific-popup/jquery.magnific-popup.min.js}"></script>
	<script th:src="@{/assets/vendors/jquery-validate/jquery.validate.min.js}"></script>
	<script th:src="@{/assets/vendors/nouislider/nouislider.min.js}"></script>
	<script th:src="@{/assets/vendors/tiny-slider/tiny-slider.js}"></script>
	<script th:src="@{/assets/vendors/wnumb/wNumb.min.js}"></script>
	<script th:src="@{/assets/vendors/swiper/js/swiper-bundle.min.js}"></script>
	<script th:src="@{/assets/vendors/owl-carousel/js/owl.carousel.min.js}"></script>
	<script th:src="@{/assets/vendors/wow/wow.js}"></script>
	<script th:src="@{/assets/vendors/imagesloaded/imagesloaded.min.js}"></script>
	<script th:src="@{/assets/vendors/isotope/isotope.js}"></script>
	<script th:src="@{/assets/vendors/countdown/countdown.min.js}"></script>
	<script th:src="@{/assets/vendors/jquery-circleType/jquery.circleType.js}"></script>
	<script th:src="@{/assets/vendors/jquery-lettering/jquery.lettering.min.js}"></script>
	<!-- template js -->
	<script th:src="@{/assets/js/cleenhearts.js}"></script>
	<script>
	
	$(document).ready(function() {
	    // Function to prevent default form submission behavior and handle form submission
	    $('.contact-one__form__inner').submit(function(event) {
	        event.preventDefault(); // Prevent default form submission behavior

	      
	        sendEmail();
	    });

	    function sendEmail() {
	        var contactForm = {
	            name: $('#name').val(),
	            email: $('#email').val(),
	            phone: $('#phone').val(),
	            subject: $('#subject').val(),
	            message: $('#message').val()
	        };

	        // Fetch CSRF token and header name from meta tags
	        var csrfToken = $("meta[name='_csrf']").attr("content");
	        var csrfHeader = $("meta[name='_csrf_header']").attr("content");

	        $.ajax({
	            url: '/contact',
	            type: 'POST',
	            contentType: 'application/json',
	            data: JSON.stringify(contactForm),
	            beforeSend: function(xhr) {
	                // Set CSRF token in the request header
	                xhr.setRequestHeader(csrfHeader, csrfToken);
	            },
	            success: function(response) {
	                showAlert('success', 'Message sent successfully');
	            },
	            error: function(xhr, status, error) {
	                showAlert('error', 'Failed to send message');
	            }
	        });
	    }


	    // Function to display alert
	    function showAlert(type, message) {
	        var alertBox = $('#alertBox');
	        var alertMessage = alertBox.find('.alert-message');
	        var alertIcon = alertBox.find('.uil');

	        alertMessage.text(message);

	        if (type === 'success') {
	            alertBox.removeClass('alert-warning').addClass('alert-success');
	            alertIcon.removeClass('uil-exclamation-triangle').addClass('uil-check-circle');
	        } else {
	            alertBox.removeClass('alert-success').addClass('alert-warning');
	            alertIcon.removeClass('uil-check-circle').addClass('uil-exclamation-triangle');
	        }

	        alertBox.show();

	        setTimeout(function() {
	            alertBox.hide();
	        }, 10000);
	    }
	});

	
	
	</script>
	
</body>
</html>
